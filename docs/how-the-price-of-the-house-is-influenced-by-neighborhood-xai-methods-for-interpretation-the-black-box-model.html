<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.2 How the price of the house is influenced by neighborhood? XAI methods for interpretation the black box model | Case Studies</title>
  <meta name="description" content="Case studies in machine learning." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="2.2 How the price of the house is influenced by neighborhood? XAI methods for interpretation the black box model | Case Studies" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/images/cover.png" />
  <meta property="og:description" content="Case studies in machine learning." />
  <meta name="github-repo" content="mini-pw/2021L-WB-Book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.2 How the price of the house is influenced by neighborhood? XAI methods for interpretation the black box model | Case Studies" />
  
  <meta name="twitter:description" content="Case studies in machine learning." />
  <meta name="twitter:image" content="/images/cover.png" />

<meta name="author" content="Faculty of Mathematics and Information Science, Warsaw University of Technology" />


<meta name="date" content="2021-05-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="xai1-explainable-german-credits.html"/>
<link rel="next" href="deep-learning-1.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./"><h3>Case Studies</h3></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="technical-setup.html"><a href="technical-setup.html"><i class="fa fa-check"></i>Technical Setup</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="explainable-artificial-intelligence-1.html"><a href="explainable-artificial-intelligence-1.html"><i class="fa fa-check"></i><b>1</b> Explainable Artificial Intelligence 1</a>
<ul>
<li class="chapter" data-level="1.1" data-path="xai1-explainable-cards.html"><a href="xai1-explainable-cards.html"><i class="fa fa-check"></i><b>1.1</b> Explaining Credit Card Customers churns</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="xai1-explainable-cards.html"><a href="xai1-explainable-cards.html#global-explanations"><i class="fa fa-check"></i><b>1.1.1</b> Global explanations</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html"><i class="fa fa-check"></i><b>1.2</b> ML in predition of real estate prices</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html#abstract"><i class="fa fa-check"></i><b>1.2.1</b> Abstract</a></li>
<li class="chapter" data-level="1.2.2" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html#introduction"><i class="fa fa-check"></i><b>1.2.2</b> Introduction</a></li>
<li class="chapter" data-level="1.2.3" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html#related-work"><i class="fa fa-check"></i><b>1.2.3</b> Related Work</a></li>
<li class="chapter" data-level="1.2.4" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html#methodology"><i class="fa fa-check"></i><b>1.2.4</b> Methodology</a></li>
<li class="chapter" data-level="1.2.5" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html#results"><i class="fa fa-check"></i><b>1.2.5</b> Results</a></li>
<li class="chapter" data-level="1.2.6" data-path="ml-in-predition-of-real-estate-prices.html"><a href="ml-in-predition-of-real-estate-prices.html#summary-and-conclusions"><i class="fa fa-check"></i><b>1.2.6</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="xai-heart-disease.html"><a href="xai-heart-disease.html"><i class="fa fa-check"></i><b>1.3</b> How not to have broken heart &lt;3</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="xai-heart-disease.html"><a href="xai-heart-disease.html#introduction-1"><i class="fa fa-check"></i><b>1.3.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html"><i class="fa fa-check"></i><b>1.4</b> Red wine quality mystery</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#abstract-1"><i class="fa fa-check"></i><b>1.4.1</b> Abstract</a></li>
<li class="chapter" data-level="1.4.2" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#introduction-and-motivation"><i class="fa fa-check"></i><b>1.4.2</b> Introduction and Motivation</a></li>
<li class="chapter" data-level="1.4.3" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#methodology-1"><i class="fa fa-check"></i><b>1.4.3</b> Methodology</a></li>
<li class="chapter" data-level="1.4.4" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#global-explanations-1"><i class="fa fa-check"></i><b>1.4.4</b> Global explanations</a></li>
<li class="chapter" data-level="1.4.5" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#summary"><i class="fa fa-check"></i><b>1.4.5</b> Summary</a></li>
<li class="chapter" data-level="1.4.6" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#conclusions"><i class="fa fa-check"></i><b>1.4.6</b> Conclusions</a></li>
<li class="chapter" data-level="1.4.7" data-path="xai1-explainable-wine.html"><a href="xai1-explainable-wine.html#references"><i class="fa fa-check"></i><b>1.4.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="xai1-explainable-hotels.html"><a href="xai1-explainable-hotels.html"><i class="fa fa-check"></i><b>1.5</b> eXplaining predictions of booking cancelations</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="xai1-explainable-hotels.html"><a href="xai1-explainable-hotels.html#introduction-2"><i class="fa fa-check"></i><b>1.5.1</b> Introduction</a></li>
<li class="chapter" data-level="1.5.2" data-path="xai1-explainable-hotels.html"><a href="xai1-explainable-hotels.html#dataset_models"><i class="fa fa-check"></i><b>1.5.2</b> Dataset and models</a></li>
<li class="chapter" data-level="1.5.3" data-path="xai1-explainable-hotels.html"><a href="xai1-explainable-hotels.html#local"><i class="fa fa-check"></i><b>1.5.3</b> Local explanations</a></li>
<li class="chapter" data-level="1.5.4" data-path="xai1-explainable-hotels.html"><a href="xai1-explainable-hotels.html#global-explanations-2"><i class="fa fa-check"></i><b>1.5.4</b> Global explanations</a></li>
<li class="chapter" data-level="1.5.5" data-path="xai1-explainable-hotels.html"><a href="xai1-explainable-hotels.html#summary-and-conclusions-1"><i class="fa fa-check"></i><b>1.5.5</b> Summary and conclusions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="explainable-artificial-intelligence-2.html"><a href="explainable-artificial-intelligence-2.html"><i class="fa fa-check"></i><b>2</b> Explainable Artificial Intelligence 2</a>
<ul>
<li class="chapter" data-level="2.1" data-path="xai1-explainable-german-credits.html"><a href="xai1-explainable-german-credits.html"><i class="fa fa-check"></i><b>2.1</b> Classifying people as good or bad credit risks</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="xai1-explainable-german-credits.html"><a href="xai1-explainable-german-credits.html#introduction-3"><i class="fa fa-check"></i><b>2.1.1</b> Introduction</a></li>
<li class="chapter" data-level="2.1.2" data-path="xai1-explainable-german-credits.html"><a href="xai1-explainable-german-credits.html#dataset-and-models"><i class="fa fa-check"></i><b>2.1.2</b> Dataset and models</a></li>
<li class="chapter" data-level="2.1.3" data-path="xai1-explainable-german-credits.html"><a href="xai1-explainable-german-credits.html#local-explanations"><i class="fa fa-check"></i><b>2.1.3</b> Local explanations</a></li>
<li class="chapter" data-level="2.1.4" data-path="xai1-explainable-german-credits.html"><a href="xai1-explainable-german-credits.html#global-explanations-3"><i class="fa fa-check"></i><b>2.1.4</b> Global explanations</a></li>
<li class="chapter" data-level="2.1.5" data-path="xai1-explainable-german-credits.html"><a href="xai1-explainable-german-credits.html#summary-and-conclusions-2"><i class="fa fa-check"></i><b>2.1.5</b> Summary and conclusions</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><i class="fa fa-check"></i><b>2.2</b> How the price of the house is influenced by neighborhood? XAI methods for interpretation the black box model</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#abstract-2"><i class="fa fa-check"></i><b>2.2.1</b> Abstract</a></li>
<li class="chapter" data-level="2.2.2" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#introduction-4"><i class="fa fa-check"></i><b>2.2.2</b> Introduction</a></li>
<li class="chapter" data-level="2.2.3" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#literature"><i class="fa fa-check"></i><b>2.2.3</b> Literature</a></li>
<li class="chapter" data-level="2.2.4" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#local-explanations-1"><i class="fa fa-check"></i><b>2.2.4</b> Local explanations</a></li>
<li class="chapter" data-level="2.2.5" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#global-explanations-4"><i class="fa fa-check"></i><b>2.2.5</b> Global explanations</a></li>
<li class="chapter" data-level="2.2.6" data-path="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html"><a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#conclusion"><i class="fa fa-check"></i><b>2.2.6</b> Conclusion</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="deep-learning-1.html"><a href="deep-learning-1.html"><i class="fa fa-check"></i><b>3</b> Deep Learning 1</a>
<ul>
<li class="chapter" data-level="3.1" data-path="bcdunet.html"><a href="bcdunet.html"><i class="fa fa-check"></i><b>3.1</b> BCDUNet</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="bcdunet.html"><a href="bcdunet.html#abstract-3"><i class="fa fa-check"></i><b>3.1.1</b> Abstract</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="an-exploration-of-deepcovidexplainer-explainable-covid-19-diagnosis-from-chest-x-rays.html"><a href="an-exploration-of-deepcovidexplainer-explainable-covid-19-diagnosis-from-chest-x-rays.html"><i class="fa fa-check"></i><b>3.2</b> An Exploration of DeepCovidExplainer: Explainable COVID-19 Diagnosis from Chest X-rays</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="an-exploration-of-deepcovidexplainer-explainable-covid-19-diagnosis-from-chest-x-rays.html"><a href="an-exploration-of-deepcovidexplainer-explainable-covid-19-diagnosis-from-chest-x-rays.html#introduction-5"><i class="fa fa-check"></i><b>3.2.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="covid-net.html"><a href="covid-net.html"><i class="fa fa-check"></i><b>3.3</b> COVID-Net</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="covid-net.html"><a href="covid-net.html#introduction-6"><i class="fa fa-check"></i><b>3.3.1</b> Introduction</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="deep-learning-2.html"><a href="deep-learning-2.html"><i class="fa fa-check"></i><b>4</b> Deep Learning 2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><i class="fa fa-check"></i><b>4.1</b> What does it mean for an article to be reproducible? Analyzing AxonDeepSeg as an example of a reproducible article</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html#introduction-7"><i class="fa fa-check"></i><b>4.1.1</b> Introduction</a></li>
<li class="chapter" data-level="4.1.2" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html#analyzing-the-ferplus-paper"><i class="fa fa-check"></i><b>4.1.2</b> Analyzing the FERPlus paper</a></li>
<li class="chapter" data-level="4.1.3" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html#reproducibility-analysis"><i class="fa fa-check"></i><b>4.1.3</b> Reproducibility analysis</a></li>
<li class="chapter" data-level="4.1.4" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html#analyzing-the-axondeepseg-paper"><i class="fa fa-check"></i><b>4.1.4</b> Analyzing the AxonDeepSeg paper</a></li>
<li class="chapter" data-level="4.1.5" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html#reproducibility-analysis-1"><i class="fa fa-check"></i><b>4.1.5</b> Reproducibility analysis</a></li>
<li class="chapter" data-level="4.1.6" data-path="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html"><a href="what-does-it-mean-for-an-article-to-be-reproducible-analyzing-axondeepseg-as-an-example-of-a-reproducible-article.html#conclusion-1"><i class="fa fa-check"></i><b>4.1.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="ara-cnn-a-bayesian-deep-learning-model-intended-for-histopathological-image-classification-.html"><a href="ara-cnn-a-bayesian-deep-learning-model-intended-for-histopathological-image-classification-.html"><i class="fa fa-check"></i><b>4.2</b> ARA-CNN - a Bayesian deep learning model intended for histopathological image classification.</a></li>
<li class="chapter" data-level="4.3" data-path="rethinking-the-u-net-architecture-for-multimodal-biomedical-image-segmentation.html"><a href="rethinking-the-u-net-architecture-for-multimodal-biomedical-image-segmentation.html"><i class="fa fa-check"></i><b>4.3</b> Rethinking the U-Net architecture for multimodal biomedical image segmentation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="rethinking-the-u-net-architecture-for-multimodal-biomedical-image-segmentation.html"><a href="rethinking-the-u-net-architecture-for-multimodal-biomedical-image-segmentation.html#introduction-8"><i class="fa fa-check"></i><b>4.3.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="dl2-rmdl-unet.html"><a href="dl2-rmdl-unet.html"><i class="fa fa-check"></i><b>4.4</b> Analyzing Reproducibility churns</a></li>
<li class="chapter" data-level="4.5" data-path="title.html"><a href="title.html"><i class="fa fa-check"></i><b>4.5</b> Title</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="title.html"><a href="title.html#title-authors-abstract-keywords"><i class="fa fa-check"></i><b>4.5.1</b> Title, Authors, Abstract, Keywords</a></li>
<li class="chapter" data-level="4.5.2" data-path="title.html"><a href="title.html#introduction-9"><i class="fa fa-check"></i><b>4.5.2</b> Introduction</a></li>
<li class="chapter" data-level="4.5.3" data-path="title.html"><a href="title.html#related-literature"><i class="fa fa-check"></i><b>4.5.3</b> Related Literature</a></li>
<li class="chapter" data-level="4.5.4" data-path="title.html"><a href="title.html#methods-1"><i class="fa fa-check"></i><b>4.5.4</b> Methods</a></li>
<li class="chapter" data-level="4.5.5" data-path="title.html"><a href="title.html#result"><i class="fa fa-check"></i><b>4.5.5</b> Result</a></li>
<li class="chapter" data-level="4.5.6" data-path="title.html"><a href="title.html#discussion"><i class="fa fa-check"></i><b>4.5.6</b> Discussion</a></li>
<li class="chapter" data-level="4.5.7" data-path="title.html"><a href="title.html#conclusion-2"><i class="fa fa-check"></i><b>4.5.7</b> Conclusion</a></li>
<li class="chapter" data-level="4.5.8" data-path="title.html"><a href="title.html#references-1"><i class="fa fa-check"></i><b>4.5.8</b> References</a></li>
<li class="chapter" data-level="4.5.9" data-path="title.html"><a href="title.html#random-multimodel-deep-learning-for-classification"><i class="fa fa-check"></i><b>4.5.9</b> Random Multimodel Deep Learning for Classification</a></li>
<li class="chapter" data-level="4.5.10" data-path="title.html"><a href="title.html#adversarial-attacks-against-medical-deep-learning-systems"><i class="fa fa-check"></i><b>4.5.10</b> Adversarial Attacks Against Medical Deep Learning Systems</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="machine-learning.html"><a href="machine-learning.html"><i class="fa fa-check"></i><b>5</b> Machine Learning</a>
<ul>
<li class="chapter" data-level="5.1" data-path="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><a href="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><i class="fa fa-check"></i><b>5.1</b> Validation and comparison of COVID-19 mortatility prediction models on multi-source data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><a href="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html#abstract-4"><i class="fa fa-check"></i><b>5.1.1</b> Abstract</a></li>
<li class="chapter" data-level="5.1.2" data-path="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><a href="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html#introduction-10"><i class="fa fa-check"></i><b>5.1.2</b> Introduction</a></li>
<li class="chapter" data-level="5.1.3" data-path="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><a href="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html#data-description"><i class="fa fa-check"></i><b>5.1.3</b> Data description</a></li>
<li class="chapter" data-level="5.1.4" data-path="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><a href="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html#comparison-of-the-models"><i class="fa fa-check"></i><b>5.1.4</b> Comparison of the models</a></li>
<li class="chapter" data-level="5.1.5" data-path="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html"><a href="validation-and-comparison-of-covid-19-mortatility-prediction-models-on-multi-source-data.html#results-1"><i class="fa fa-check"></i><b>5.1.5</b> Results</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><a href="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><i class="fa fa-check"></i><b>5.2</b> One model to fit them all: COVID-19 survival prediction using multinational data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><a href="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html#abstract-5"><i class="fa fa-check"></i><b>5.2.1</b> Abstract</a></li>
<li class="chapter" data-level="5.2.2" data-path="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><a href="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html#introduction-11"><i class="fa fa-check"></i><b>5.2.2</b> Introduction</a></li>
<li class="chapter" data-level="5.2.3" data-path="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><a href="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html#data-sources"><i class="fa fa-check"></i><b>5.2.3</b> Data sources</a></li>
<li class="chapter" data-level="5.2.4" data-path="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><a href="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html#model-building"><i class="fa fa-check"></i><b>5.2.4</b> Model building</a></li>
<li class="chapter" data-level="5.2.5" data-path="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html"><a href="one-model-to-fit-them-all-covid-19-survival-prediction-using-multinational-data.html#summary-and-discussion"><i class="fa fa-check"></i><b>5.2.5</b> Summary and discussion</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><i class="fa fa-check"></i><b>5.3</b> Transparent machine learning to support predicting COVID-19 infection risk based on chronic diseases</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#abstract-6"><i class="fa fa-check"></i><b>5.3.1</b> Abstract</a></li>
<li class="chapter" data-level="5.3.2" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#introduction-12"><i class="fa fa-check"></i><b>5.3.2</b> Introduction</a></li>
<li class="chapter" data-level="5.3.3" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#case-study"><i class="fa fa-check"></i><b>5.3.3</b> Case Study</a></li>
<li class="chapter" data-level="5.3.4" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#flaws"><i class="fa fa-check"></i><b>5.3.4</b> Flaws</a></li>
<li class="chapter" data-level="5.3.5" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#improvements"><i class="fa fa-check"></i><b>5.3.5</b> Improvements</a></li>
<li class="chapter" data-level="5.3.6" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#transparent-machine-learning"><i class="fa fa-check"></i><b>5.3.6</b> Transparent Machine Learning</a></li>
<li class="chapter" data-level="5.3.7" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#data"><i class="fa fa-check"></i><b>5.3.7</b> Data</a></li>
<li class="chapter" data-level="5.3.8" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#application"><i class="fa fa-check"></i><b>5.3.8</b> Application</a></li>
<li class="chapter" data-level="5.3.9" data-path="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html"><a href="transparent-machine-learning-to-support-predicting-covid-19-infection-risk-based-on-chronic-diseases.html#conclusions-1"><i class="fa fa-check"></i><b>5.3.9</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><i class="fa fa-check"></i><b>5.4</b> Comparison of neural networks and tree-based models in the clinical prediction of the course of COVID-19 illness</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html#abstract-7"><i class="fa fa-check"></i><b>5.4.1</b> Abstract</a></li>
<li class="chapter" data-level="5.4.2" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html#introduction-13"><i class="fa fa-check"></i><b>5.4.2</b> Introduction</a></li>
<li class="chapter" data-level="5.4.3" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html#methods-2"><i class="fa fa-check"></i><b>5.4.3</b> Methods</a></li>
<li class="chapter" data-level="5.4.4" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html#results-2"><i class="fa fa-check"></i><b>5.4.4</b> Results</a></li>
<li class="chapter" data-level="5.4.5" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html#discussion-1"><i class="fa fa-check"></i><b>5.4.5</b> Discussion</a></li>
<li class="chapter" data-level="5.4.6" data-path="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html"><a href="comparison-of-neural-networks-and-tree-based-models-in-the-clinical-prediction-of-the-course-of-covid-19-illness.html#source-code"><i class="fa fa-check"></i><b>5.4.6</b> Source code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rashomonml.html"><a href="rashomonml.html"><i class="fa fa-check"></i><b>6</b> RashomonML</a>
<ul>
<li class="chapter" data-level="6.1" data-path="topic.html"><a href="topic.html"><i class="fa fa-check"></i><b>6.1</b> Topic</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="topic.html"><a href="topic.html#abstract-8"><i class="fa fa-check"></i><b>6.1.1</b> Abstract</a></li>
<li class="chapter" data-level="6.1.2" data-path="topic.html"><a href="topic.html#literature-review"><i class="fa fa-check"></i><b>6.1.2</b> Literature review</a></li>
<li class="chapter" data-level="6.1.3" data-path="topic.html"><a href="topic.html#results-3"><i class="fa fa-check"></i><b>6.1.3</b> Results</a></li>
<li class="chapter" data-level="6.1.4" data-path="topic.html"><a href="topic.html#best-models"><i class="fa fa-check"></i><b>6.1.4</b> Best models</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="title-1.html"><a href="title-1.html"><i class="fa fa-check"></i><b>6.2</b> Title</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="title-1.html"><a href="title-1.html#literature-review-1"><i class="fa fa-check"></i><b>6.2.1</b> Literature review</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="roshomon-sets-of-in-hospital-mortality-prediction-random-forest-models.html"><a href="roshomon-sets-of-in-hospital-mortality-prediction-random-forest-models.html"><i class="fa fa-check"></i><b>6.3</b> Roshomon sets of in-hospital mortality prediction random forest models</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="roshomon-sets-of-in-hospital-mortality-prediction-random-forest-models.html"><a href="roshomon-sets-of-in-hospital-mortality-prediction-random-forest-models.html#abstract-9"><i class="fa fa-check"></i><b>6.3.1</b> Abstract</a></li>
<li class="chapter" data-level="6.3.2" data-path="roshomon-sets-of-in-hospital-mortality-prediction-random-forest-models.html"><a href="roshomon-sets-of-in-hospital-mortality-prediction-random-forest-models.html#related-work-1"><i class="fa fa-check"></i><b>6.3.2</b> Related work</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="rashomon-on-mimic-draft.html"><a href="rashomon-on-mimic-draft.html"><i class="fa fa-check"></i><b>6.4</b> Rashomon on MIMIC - draft</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="rashomon-on-mimic-draft.html"><a href="rashomon-on-mimic-draft.html#abstract-10"><i class="fa fa-check"></i><b>6.4.1</b> Abstract</a></li>
<li class="chapter" data-level="6.4.2" data-path="rashomon-on-mimic-draft.html"><a href="rashomon-on-mimic-draft.html#review-of-the-literature"><i class="fa fa-check"></i><b>6.4.2</b> Review of the literature</a></li>
<li class="chapter" data-level="6.4.3" data-path="rashomon-on-mimic-draft.html"><a href="rashomon-on-mimic-draft.html#raw-results"><i class="fa fa-check"></i><b>6.4.3</b> Raw results</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="roshomon-sets-on-death-prediction-xgb-models-using-mimic-iii-database.html"><a href="roshomon-sets-on-death-prediction-xgb-models-using-mimic-iii-database.html"><i class="fa fa-check"></i><b>6.5</b> Roshomon sets on death prediction XGB models using MIMIC-III database</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="roshomon-sets-on-death-prediction-xgb-models-using-mimic-iii-database.html"><a href="roshomon-sets-on-death-prediction-xgb-models-using-mimic-iii-database.html#an-initial-literature-review"><i class="fa fa-check"></i><b>6.5.1</b> An initial literature review</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Case Studies</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> How the price of the house is influenced by neighborhood? XAI methods for interpretation the black box model</h2>
<p><em>Authors: Klaudia Gruszkowska, Bartosz Jamroży, Bartosz Rożek (Warsaw University of Technology)</em></p>
<div id="abstract-2" class="section level3" number="2.2.1">
<h3><span class="header-section-number">2.2.1</span> Abstract</h3>
<p><em>The value of a house is extremely important to all of us, no matter if we are buyers, sellers or homeowners. That is why correct price prediction is so important. With the help of machine learning we are able to predict this price but not every time we know what influenced such prediction result. For this reason, the interpretability of models, used in important areas of life, has recently become increasingly valuable. In this article we interpret and explain these unknowns using Explainable Artificial Intelligence (XAI) methods.</em></p>
</div>
<div id="introduction-4" class="section level3" number="2.2.2">
<h3><span class="header-section-number">2.2.2</span> Introduction</h3>
<p>Being able to predict the potential price of a house is crucial for the real estate market. Therefore, over the years, many papers have been focused on improving prediction methods <span class="citation">(<a href="#ref-2-5-housingprediction-ml2" role="doc-biblioref">Ge et al. 2021</a>; <a href="#ref-2-5-housingprediction-ml1" role="doc-biblioref">Park and Bae 2015</a>)</span>. The main question regarding forecasts is what data influences the price. In addition to physical factors of the house, such as size, number of rooms, the condition of the building, the price is also influenced by the area in which the house is located. The neighborhood affects the price of the house and the house affects the value of the surrounding buildings. Thus, house price prediction models based on neighborhood data were created <span class="citation">(<a href="#ref-2-5-neighborhood3" role="doc-biblioref">Can 1990</a>; <a href="#ref-2-5-neighborhood2" role="doc-biblioref">Heyman and Sommervoll 2019</a>; <a href="#ref-2-5-neighborhood1" role="doc-biblioref">Law 2017</a>)</span>.</p>
<p>With the development of artificial intelligence and machine learning, the use of this type of algorithm is gaining popularity in the field of forecasting house prices <span class="citation">(<a href="#ref-2-5-housingprediction-ml1" role="doc-biblioref">Park and Bae 2015</a>)</span>. In machine learning, we can distinguish two types of models: glass-box and black-box models. In the glass-box model human can follow the steps from inputs to outputs. Black-box models is also an important part of machine learning, however unlike glass-box models, they do not have a clear, human-readable way of determining predictions <span class="citation">(<a href="#ref-EMA" role="doc-biblioref">Biecek and Burzykowski 2021</a>)</span>. So why do we use them when we have glass-box models at our disposal? The complexity of black-box models is both an advantage and disadvantage at the same time. Due to it, we get better, more tailored predictions, but we also doom ourselves to the lack of precise information on how the given result was obtained.</p>
<p>Using algorithms, we would like to know what influenced the prediction result and how. We are not inclined to trust such a difficult and complicated activity to algorithms whose decisions are unclear to human. Therefore, in this paper we use Explainable Artificial Intelligence (XAI) methods to analyze the output of the black-box model.</p>
<p><strong>Data</strong></p>
<p>The data that was used was the “California Housing Data Set.”
This data was initially featured in the following paper:<span class="citation">(<a href="#ref-2-5-pace1997sparse" role="doc-biblioref">Pace and Barry 1997</a>)</span>.The data pertains to the houses found in a given California district and some summary stats about them based on the 1990 census data. Data is cleaned, contains no empty information.</p>
<table>
<colgroup>
<col width="12%" />
<col width="87%" />
</colgroup>
<thead>
<tr class="header">
<th>Column title</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>longitude</td>
<td>A measure of how far west a house is; a higher value is farther west</td>
</tr>
<tr class="even">
<td>latitude</td>
<td>A measure of how far north a house is; a higher value is farther north</td>
</tr>
<tr class="odd">
<td>housingMedianAge</td>
<td>Median age of a house within a block; a lower number is a newer building</td>
</tr>
<tr class="even">
<td>totalRooms</td>
<td>Total number of rooms within a block</td>
</tr>
<tr class="odd">
<td>totalBedrooms</td>
<td>Total number of bedrooms within a block</td>
</tr>
<tr class="even">
<td>population</td>
<td>Total number of people residing within a block</td>
</tr>
<tr class="odd">
<td>households</td>
<td>Total number of households, a group of people residing within a home unit, for a block</td>
</tr>
<tr class="even">
<td>medianIncome</td>
<td>Median income for households within a block of houses (measured in tens of thousands of US Dollars)</td>
</tr>
<tr class="odd">
<td>medianHouseValue</td>
<td>Median house value for households within a block (measured in US Dollars)</td>
</tr>
<tr class="even">
<td>oceanProximity</td>
<td>Location relative to the ocean described as however in the category: “NEAR BAY,” “&lt;1H OCEAN,” “INLAND,” “NEAR OCEAN,” “ISLAND”</td>
</tr>
</tbody>
</table>
<div class="figure" style="text-align: center"><span id="fig:2-5-HeatmapOfMedianHouseValue"></span>
<img src="images/2-5-HeatmapOfMedianHouseValue.png" alt="Map of property distribution within the state of California. The brightness of the points reflects the price." width="500" />
<p class="caption">
Figure 2.11: Map of property distribution within the state of California. The brightness of the points reflects the price.
</p>
</div>
<p>The map shows a density of bright blue dots in two locations, these are expensive properties located within two urban centers, Los Angeles, San Francisco, and San Diego.
Also, more expensive properties are located along the Pacific coast.</p>
<div class="figure" style="text-align: center"><span id="fig:2-5-OceanProximityOnMap"></span>
<img src="images/2-5-OceanProximityOnMap.png" alt="Map of property distribution within the state of California. Colors show the value of the oceanProximity column." width="500" />
<p class="caption">
Figure 2.12: Map of property distribution within the state of California. Colors show the value of the oceanProximity column.
</p>
</div>
<p>Property map, packing the <code>ocean_proximity</code> feature. Properties with the ‘NEAR BAY’ category colored blue, appear in only one grouping next to San Francisco, <code>NEAR BAY</code> means San Francisco Bay. Green category, <code>ISLAND</code> collects 10 properties located on one island near Los Angeles.</p>
<p><strong>Machine learning model</strong></p>
<p>The machine learning model explained is from <a href="https://www.kaggle.com/camnugent/introduction-to-machine-learning-in-r-tutorial" class="uri">https://www.kaggle.com/camnugent/introduction-to-machine-learning-in-r-tutorial</a>.
A random forest model<span class="citation">(<a href="#ref-2-5-breiman1999random" role="doc-biblioref">Breiman 1999</a>)</span> from the “randomForest” library with default parameters was used to predict property values. This model does not require scaling of data or decoding of categorical data. This makes it easier to analyze the results.</p>
<p>The two columns <code>total_bedrooms</code> and <code>total_rooms</code> were averaged by dividing by the number of household members. The new columns are <code>mean_bedrooms</code> and <code>mead_rooms</code>.</p>
</div>
<div id="literature" class="section level3" number="2.2.3">
<h3><span class="header-section-number">2.2.3</span> Literature</h3>
<p>Over the years, many solutions have been developed for the task of house price prediction, and what particularly interests us, solutions using machine learning <span class="citation">(<a href="#ref-2-5-houseprediction-2" role="doc-biblioref">Conway 2018</a>; <a href="#ref-2-5-houseprediction-1" role="doc-biblioref">Fan et al. 2018</a>; <a href="#ref-2-5-housingprediction-ml1" role="doc-biblioref">Park and Bae 2015</a>)</span>. However, in our paper we will not focus on the process of creating good models but on the process of explaining models and their results using XAI methods.</p>
<p>Why are these explanations so important? As we mentioned in the introduction, black box models do not give us insight into the reason for their decisions. As mentioned in the article <span class="citation">(<a href="#ref-2-5-XAI" role="doc-biblioref">Barredo Arrieta et al. 2020</a>)</span> that is one of the main barriers AI is facing nowadays.</p>
<p>However, not everyone supports the development of XAI <span class="citation">(<a href="#ref-2-5-againstxai3" role="doc-biblioref">Aivodji et al. 2019</a>; <a href="#ref-2-5-against-xai1" role="doc-biblioref"><strong>2-5-against-xai1?</strong></a>; <a href="#ref-2-5-against-xai2" role="doc-biblioref"><strong>2-5-against-xai2?</strong></a> )</span>. They point to the insufficient credibility of the explanations and the possibility that the model conceal his unethical behavior.</p>
<p>The second issue addressed in our paper is the relationship of house price to location. Several works have been created on this topic as well. For example, Stephen Law in his work <span class="citation">(<a href="#ref-2-5-neighborhood1" role="doc-biblioref">Law 2017</a>)</span> proposed defining a street as a local area unit and measuring its effect on house price. The results of his research of Metropolitan London showed significant local area effects on house prices. In our case the local area unit is block, which is a rectangular area marked by intersecting streets.
Another example is the article written by Robin A. Dubin <span class="citation">(<a href="#ref-2-5-neighborhood4" role="doc-biblioref">Dubin 1998</a>)</span>. He points out the importance of the correlations existing between the prices of neighboring houses, which is ignored in others method of predicting house values.</p>
</div>
<div id="local-explanations-1" class="section level3" number="2.2.4">
<h3><span class="header-section-number">2.2.4</span> Local explanations</h3>
<p>We used observation 1 and 2000, because they are far from each other in the set so that they have different value.</p>
<div class="figure" style="text-align: center"><span id="fig:2-5-local-map"></span>
<img src="images/2-5-map.png" alt="Choosen observations presented on a map. Red point - observation 1, green point - observation 2000" width="1000" />
<p class="caption">
Figure 2.13: Choosen observations presented on a map. Red point - observation 1, green point - observation 2000
</p>
</div>
<div id="break-down" class="section level4" number="2.2.4.1">
<h4><span class="header-section-number">2.2.4.1</span> Break Down</h4>
<p><strong>Intuition</strong></p>
<p>Break down provides a way to show the local importance of variables and the effect of individual values on predictions<span class="citation">(<a href="#ref-2-5-iBreakDown" role="doc-biblioref">Gosiewska and Biecek 2019</a>)</span>.
The basic idea is to calculate the contribution of variable in prediction of f(x) as changes in the expected model response given other variables. This means that we start with the mean expected model response of the model, successively adding variables to the conditioning. Of course, the order in which the variables are arranged also influences the contribution values.</p>
<p><strong>Results</strong></p>
<div class="figure" style="text-align: center"><span id="fig:2-5-BreakDownProfile"></span>
<img src="images/2-5-BreakDownProfile.png" alt="Break Down decomposition (L) observation 1, (R) observation 2000" width="100%" />
<p class="caption">
Figure 2.14: Break Down decomposition (L) observation 1, (R) observation 2000
</p>
</div>
<p>Figure <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-BreakDownProfile">2.14</a> shows the result of using Break Down method from DALEX <span class="citation">(<a href="#ref-dalex" role="doc-biblioref">Baniecki et al. 2020a</a>)</span> package.
The variables are ranked in terms of the importance of their impact on the predictions. The most important characteristic for both properties is <code>median income</code>. Median income is indicative of neighborhood status. Residents who earn more are likely to purchase more expensive properties. For both observations the influences are strong but opposite, high earnings for the first observation at $83,000 per year have a positive influence. In contrast, for property number 2000, earnings around $15 thousand per year are the reason why the model lowers the predicted price.
<code>Longitude</code> is the second significant feature. Average number of rooms and location relative to the ocean was also significant. Interestingly, in observation number 2000, the inland location raises the price. From the map <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-HeatmapOfMedianHouseValue">2.11</a>, it appears that it is the homes farthest from the ocean that are the cheapest.</p>
</div>
<div id="lime-1" class="section level4" number="2.2.4.2">
<h4><span class="header-section-number">2.2.4.2</span> Lime</h4>
<p><strong>Intuition</strong></p>
<p>Local Interpretable Model-agnostic Explanations (LIME) was firstly proposed by Ribeiro, Singh, and Guestrin <span class="citation">(<a href="#ref-2-5-lime" role="doc-biblioref">Ribeiro et al. 2016</a>)</span>.</p>
<p>In LIME decomposition, our goal is to create an approximate glass-box model for a given observation. That model would be fully human-readable and can be easier analyzed. To do so, we create an artificial data set and teach the chosen glass-box model on it. The coefficients on the variables for the created model are the coefficients on the validity of the variables for our observation.</p>
<p><strong>Results</strong></p>
<div class="figure" style="text-align: center"><span id="fig:2-5-lime"></span>
<img src="images/2-5-lime.png" alt="Lime decomposition  (L) observation 1, (R) observation 2000" width="1000" />
<p class="caption">
Figure 2.15: Lime decomposition (L) observation 1, (R) observation 2000
</p>
</div>
<p>Figure above <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-lime">2.15</a> shows the result of using LIME method <span class="citation">(<a href="#ref-lime" role="doc-biblioref"><strong>lime?</strong></a>)</span> from DALEX <span class="citation">(<a href="#ref-dalex" role="doc-biblioref">Baniecki et al. 2020a</a>)</span> package. Common for both observations is that the <code>median_income</code> variable has the largest effect on prediction. However, the impact in the case 1 is large positive but in the case 2000 it is large negative. It is caused by the value of the variable. It is worth noting that the variables longitude and latitude have opposite signs in both cases. This is because these variables are negatively correlated. The second most valuable variable is the map location variable.</p>
<p>It follows that for the observations, the key variables are <code>median_income</code> and some kind of location. This is consistent with our expectation and intuition that the higher the earnings of residents, the richer and more valued the neighborhood. Consequently, the houses themselves are also priced higher. Additionally, plots show us that impact of <code>population</code>,<code>households</code> or <code>housing_median_age</code> is not significant.</p>
<p>What is interesting, in the case 2000 above <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-BreakDownProfile">2.14</a> BreakDown found this location to be positive.</p>
</div>
<div id="ceteris-paribus-1" class="section level4" number="2.2.4.3">
<h4><span class="header-section-number">2.2.4.3</span> Ceteris Paribus</h4>
<p><strong>Intuition</strong></p>
<p><em>Ceteris Paribus</em> is a phrase that comes from Latin. Word for word meaning is “other things equal,” but in XAI much more meaningful translation would be “other things held constant.” In fact, these few words describe this method deeply - we choose one variable from observation, change it’s value, while other variables held constant and calculate new model’s prediction. Output of this operation is a function that shows us how prediction changes.</p>
<p><strong>Results</strong></p>
<center>
<div class="figure"><span id="fig:2-5-single-ceteris"></span>
<img src="images/2-5-single-ceteris.png" alt="Ceteris Paribus: first observation" width="100%" />
<p class="caption">
Figure 2.16: Ceteris Paribus: first observation
</p>
</div>
</center>
<p>Plot <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-single-ceteris">2.16</a> above shows <em>Ceteris Paribus</em> calculated for first observation of data set. As we can see, in most cases it is straight line with change for small values. <code>Households</code> and <code>population</code> profiles are similar, which seems to be reasonable, because not many people look for apartment in a remote area. <code>Latitude</code> and <code>longitude</code> profiles are vertical lines with one decrease. Hence, a region on map can separated where <code>median value</code> would be the highest.<code>Mean bedrooms</code> is hard to explain in the oposition to <code>mean rooms</code> where we can see that the more rooms the higher the value is. It stops at certain value, above which valuation doesn’t change. <code>Median income</code> is almost linear function, which is understandable as rich people can afford expensive apartments.</p>
<center>
<div class="figure"><span id="fig:2-5-double-ceteris"></span>
<img src="images/2-5-double-ceteris.png" alt="Ceteris Paribus: first and 2000th observation" width="100%" />
<p class="caption">
Figure 2.17: Ceteris Paribus: first and 2000th observation
</p>
</div>
</center>
<p>Next plot <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-double-ceteris">2.17</a> shows <em>Ceteris Paribus</em> calculated for two different observations. Specially two observations with massive difference in <code>median value</code> where chosen to observe what would change. Clear differences can be observed. Especially <code>latitude</code>, <code>mean bedrooms</code>, <code>mean rooms</code> and <em>population</em> shows major changes. Rest of variables have similar profiles, but these four are great example why shouldn’t we draw conclusions about whole data set based on one <em>ceteris paribus</em> calculation.</p>
</div>
<div id="local-explanations-conclusions" class="section level4" number="2.2.4.4">
<h4><span class="header-section-number">2.2.4.4</span> Local explanations conclusions</h4>
<p>As it could be observed, local explanations tells a lot about given observation. Unfortunately, juxtaposition of two different observations showed us, that they can have totally different explanations. Hence, local XAI, in this case, would allow us to increase already built house’s value rather than give an instruction how to build expensive property. To get this instruction global explanations should be used.</p>
</div>
</div>
<div id="global-explanations-4" class="section level3" number="2.2.5">
<h3><span class="header-section-number">2.2.5</span> Global explanations</h3>
<p>In global explanations, we want to find out what influenced the model as a whole in the data, rather than looking at individual observations. This gives us an overall view of the predictions for the population.</p>
<div id="feature-importance-1" class="section level4" number="2.2.5.1">
<h4><span class="header-section-number">2.2.5.1</span> Feature Importance</h4>
<p><strong>Intuition</strong></p>
<p>Idea of permutation-based variable-importance<span class="citation">(<a href="#ref-2-5-xailandscape" role="doc-biblioref">Maksymiuk et al. 2020</a>)</span>:
If a variable is important in a model, then after its permutation the model prediction should be less precise. The permutation importance of a variable <span class="math inline">\(k\)</span> is the difference between model prediction for original data and prediction for data with permutation variable <span class="math inline">\(k\)</span>.</p>
<p><strong>Results</strong></p>
<div class="figure" style="text-align: center"><span id="fig:2-5-FeatureImportance"></span>
<img src="images/2-5-FeatureImportance.png" alt="Feature Importance" width="100%" />
<p class="caption">
Figure 2.18: Feature Importance
</p>
</div>
<p>Plot <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-FeatureImportance">2.18</a> show, <code>Median income</code> turns out to be the most important feature for the model under study. Removing the median income information by permutations, resulted in the largest decrease in the RMSE measure. This means that without this feature the model is much less precise.
The geographic variables, <code>longitude</code> <code>latitude</code> and <code>ocean proximity</code> also turn out to be important for prediction.
The average number of rooms, age, and the number of householders already have less impact on the prediction.
The <code>mean bedrooms</code> category has the smallest and ambiguous impact. Whiskers extending beyond the left border of the bars indicate that there were draws where removing the variable improved the model results. The model may ignore this feature, having partial information about it in the form of number of rooms and household members.</p>
</div>
<div id="pdp" class="section level4" number="2.2.5.2">
<h4><span class="header-section-number">2.2.5.2</span> PDP</h4>
<p><strong>Intuition</strong></p>
<p>PDP <span class="citation">(<a href="#ref-xai1-pdp" role="doc-biblioref">Friedman 2000</a>)</span> stands for partial dependence plot and it is connected with <em>Ceteris Paribus</em>. We take a random sample from data set, and calculate <em>ceteris paribus</em> for each one. After that, mean of all these functions is calculated, which leaves us with one profile for whole data set. In the plot below thick blue line is PDP and thin grey lines are <em>Ceteris Paribus</em> calculations for each observation.</p>
<p><strong>Results</strong></p>
<center>
<div class="figure"><span id="fig:2-5-pdp"></span>
<img src="images/2-5-pdp.png" alt="PPD" width="100%" />
<p class="caption">
Figure 2.19: PPD
</p>
</div>
</center>
<p>As we can see above <a href="how-the-price-of-the-house-is-influenced-by-neighborhood-xai-methods-for-interpretation-the-black-box-model.html#fig:2-5-pdp">2.19</a>, <code>households</code>, <code>mean bedrooms</code>, <code>mean rooms</code> and <code>population</code> profiles are almost straight lines with fluctuations for small values. <code>Housing median value</code> is a interesting case, because small curvature can be observed at the end of line. This is probably due to the fact that new apartments are expensive, because they are modern and old ones are expensive because of historical background behind they. <code>Latitude</code> shows that most expensive houses are located on south, especially below <span class="math inline">\(34 ^{\circ} N\)</span>, in California this is area near Los Angeles. <code>Median house value</code> is highest for <code>longitude</code> values lower than <span class="math inline">\(118 ^{\circ} E\)</span> (majority of a state except of San Diego and surrounding area). As it was in <em>ceteris paribus</em>, <code>median income</code> grows together with <code>median house value</code> to the level where income money simply doesn’t matter.</p>
<center>
<div class="figure"><span id="fig:unnamed-chunk-1"></span>
<img src="images/2-5-pdp-groups.png" alt="PPD in groups" width="100%" />
<p class="caption">
Figure 2.20: PPD in groups
</p>
</div>
</center>
<p>PDP makes it possible to create separate profiles for different groups of observation. In our case, we used <code>ocean proximity</code> as it is a categorical variable. In the plot above we can observe, that all profiles are similar to each other, the only significant difference is vertical shift. Conclusion drawn from this plot is the fact that houses <code>1h &lt;Ocean</code> are most expensive, <code>inland</code> apartments are the cheapest, while <code>near ocean</code> and <code>near bay</code> behave similar to each other and have average prices. If we take a look at the plot from <em>Data</em> paragraph, conclusions look reasonable. <code>1h &lt;Ocean</code> houses are the ones located in Los Angeles and in the suburbs of San Francisco, which are well known from expensive neighborhoods.</p>
</div>
<div id="global-explanations-conclusions" class="section level4" number="2.2.5.3">
<h4><span class="header-section-number">2.2.5.3</span> Global explanations conclusions</h4>
<p>In contrast to local explanations, global explanations give a more general picture of the entire data set. With PDP profiles, we can see the relationships between the data. The future importance graph allows understanding what variables are relevant to the model.</p>
</div>
</div>
<div id="conclusion" class="section level3" number="2.2.6">
<h3><span class="header-section-number">2.2.6</span> Conclusion</h3>
<p>XAI methods can have multiple applications. They allow to study the behavior of Machine Learning Models. It gives an opportunity to understand the model, detect errors, for example, made during data preprocessing.
With a good model matched to the data, XAI can be used to study the dependencies in the data.</p>

</div>
</div>
<!-- </div> -->
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-2-5-againstxai3" class="csl-entry">
Aivodji, U., Arai, H., Fortineau, O., Gambs, S., Hara, S., &amp; Tapp, A. (2019). Fairwashing: The risk of rationalization. In K. Chaudhuri &amp; R. Salakhutdinov (Eds.), <em>Proceedings of the 36th international conference on machine learning</em> (Vol. 97, pp. 161–170). PMLR.<a href=" http://proceedings.mlr.press/v97/aivodji19a.html "> http://proceedings.mlr.press/v97/aivodji19a.html</a>
</div>
<div id="ref-dalex" class="csl-entry">
Baniecki, H., Kretowicz, W., Piatyszek, P., Wisniewski, J., &amp; Biecek, P. (2020a). <span class="nocase">dalex: Responsible Machine Learning with Interactive Explainability and Fairness in Python</span>. <em>arXiv:2012.14406</em>. <a href="https://arxiv.org/abs/2012.14406">https://arxiv.org/abs/2012.14406</a>
</div>
<div id="ref-2-5-XAI" class="csl-entry">
Barredo Arrieta, A., Díaz-Rodríguez, N., Del Ser, J., Bennetot, A., Tabik, S., Barbado, A., et al. (2020). Explainable artificial intelligence (XAI): Concepts, taxonomies, opportunities and challenges toward responsible AI. <em>Information Fusion</em>, <em>58</em>, 82–115. <a href="http://www.sciencedirect.com/science/article/pii/S1566253519308103">http://www.sciencedirect.com/science/article/pii/S1566253519308103</a>
</div>
<div id="ref-EMA" class="csl-entry">
Biecek, P., &amp; Burzykowski, T. (2021). <em><span>Explanatory Model Analysis</span></em>. Chapman; Hall/CRC, New York. <a href="https://pbiecek.github.io/ema/">https://pbiecek.github.io/ema/</a>
</div>
<div id="ref-2-5-breiman1999random" class="csl-entry">
Breiman, L. (1999). Random forests. <em>UC Berkeley TR567</em>.
</div>
<div id="ref-2-5-neighborhood3" class="csl-entry">
Can, A. (1990). The measurement of neighborhood dynamics in urban house prices. <em>Economic Geography</em>, <em>66</em>(3), 254–272. <a href="https://doi.org/10.2307/143400">https://doi.org/10.2307/143400</a>
</div>
<div id="ref-2-5-houseprediction-2" class="csl-entry">
Conway, J. (2018, January). <em><span class="nocase">Artificial Intelligence and Machine Learning : Current Applications in Real Estate</span></em> (PhD thesis). Retrieved from <a href="https://dspace.mit.edu/bitstream/handle/1721.1/120609/1088413444-MIT.pdf">https://dspace.mit.edu/bitstream/handle/1721.1/120609/1088413444-MIT.pdf</a>
</div>
<div id="ref-2-5-neighborhood4" class="csl-entry">
Dubin, R. A. (1998). Predicting house prices using multiple listings data. <em>The Journal of Real Estate Finance and Economics</em>. <a href="https://doi.org/10.1023/A:1007751112669">https://doi.org/10.1023/A:1007751112669</a>
</div>
<div id="ref-2-5-houseprediction-1" class="csl-entry">
Fan, C., Cui, Z., &amp; Zhong, X. (2018). House prices prediction with machine learning algorithms. In <em>Proceedings of the 2018 10th international conference on machine learning and computing</em> (pp. 6–10). New York, NY, USA: Association for Computing Machinery. <a href="https://doi.org/10.1145/3195106.3195133">https://doi.org/10.1145/3195106.3195133</a>
</div>
<div id="ref-xai1-pdp" class="csl-entry">
Friedman, J. H. (2000). Greedy function approximation: A gradient boosting machine. <em>Annals of Statistics</em>, <em>29</em>, 1189–1232.
</div>
<div id="ref-2-5-housingprediction-ml2" class="csl-entry">
Ge, X., Runeson, G., &amp; Lam, K. C. (2021). Forecasting hong kong housing prices: An artificial neural network approach.
</div>
<div id="ref-2-5-iBreakDown" class="csl-entry">
Gosiewska, A., &amp; Biecek, P. (2019). <span>Do Not Trust Additive Explanations</span>. <em>arXiv</em>. <a href="https://arxiv.org/abs/1903.11420v3">https://arxiv.org/abs/1903.11420v3</a>
</div>
<div id="ref-2-5-neighborhood2" class="csl-entry">
Heyman, A., &amp; Sommervoll, D. (2019). House prices and relative location. <em>Cities</em>, <em>95</em>, 102373. <a href="https://doi.org/10.1016/j.cities.2019.06.004">https://doi.org/10.1016/j.cities.2019.06.004</a>
</div>
<div id="ref-2-5-neighborhood1" class="csl-entry">
Law, S. (2017). Defining street-based local area and measuring its effect on house price using a hedonic price approach: The case study of metropolitan london. <em>Cities</em>, <em>60</em>, 166–179. <a href="https://doi.org/10.1016/j.cities.2016.08.008">https://doi.org/10.1016/j.cities.2016.08.008</a>
</div>
<div id="ref-2-5-xailandscape" class="csl-entry">
Maksymiuk, S., Gosiewska, A., &amp; Biecek, P. (2020). Landscape of r packages for eXplainable artificial intelligence. <em>arXiv</em>. <a href="https://arxiv.org/abs/2009.13248">https://arxiv.org/abs/2009.13248</a>
</div>
<div id="ref-2-5-pace1997sparse" class="csl-entry">
Pace, R. K., &amp; Barry, R. (1997). Sparse spatial autoregressions. <em>Statistics &amp; Probability Letters</em>, <em>33</em>(3), 291–297.
</div>
<div id="ref-2-5-housingprediction-ml1" class="csl-entry">
Park, B., &amp; Bae, J. (2015). <span class="nocase">Using machine learning algorithms for housing price prediction: The case of Fairfax County, Virginia housing data</span>. <em>Expert Systems with Applications</em>, <em>42</em>. <a href="https://doi.org/10.1016/j.eswa.2014.11.040">https://doi.org/10.1016/j.eswa.2014.11.040</a>
</div>
<div id="ref-2-5-lime" class="csl-entry">
Ribeiro, M. T., Singh, S., &amp; Guestrin, C. (2016). <span class="nocase">"Why Should <span>I</span> Trust You?": Explaining the Predictions of Any Classifier</span>. In <em>Proceedings of the 22nd <span>ACM</span> <span>SIGKDD</span> international conference on knowledge discovery and data mining, san francisco, CA, USA, august 13-17, 2016</em> (pp. 1135–1144). <a href="https://doi.org/10.18653/v1/n16-3020">https://doi.org/10.18653/v1/n16-3020</a>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="xai1-explainable-german-credits.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="deep-learning-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/lunr.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mini-pw/2021L-WB-Book/edit/master/2-5-california.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["book.pdf", "book.epub"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
